# Modelo del dominio

## ¬øPor qu√©?

|||
|-|-|
Las soluciones de software se aplican **sobre una realidad existente**, con sus situaciones, procesos, particularidades, etc.|Entender esta realidad es fundamental para ser capaces de construir sistemas de software que cumplan con las necesidades del dominio.

## ¬øQu√©?

El modelo del dominio es la representaci√≥n de las clases conceptuales m√°s importantes del mundo real en el contexto de nuestra soluci√≥n.

Se centra en vocabulario, abstracciones relevantes e informaci√≥n del dominio.

Punto de entrada de muchos artefactos que se construyen en un proceso de software

El modelo del dominio **no es** la representaci√≥n de las clases del software, ni de los objetos.

|Se expresan|No dependen|No consideran|
|-|-|-|
En el lenguaje del cliente|De ning√∫n entorno inform√°tico|Restricciones de implementaci√≥n

## ¬øPara qu√©?

- Comprender el **contexto** del sistema.
  - Comprender la estructura y din√°mica de la organizaci√≥n.
  - Comprender los problemas actuales de la organizaci√≥n.
  - Asegurarse que desarrolladores, usuarios y clientes tienen una comprensi√≥n com√∫n de la organizaci√≥n.
- Generar un **vocabulario com√∫n**.
- Obtener los requisitos del sistema.

## ¬øC√≥mo?

En talleres/reuniones por parte de:

- Analistas del dominio,
- Expertos del dominio y
- personas con habilidad de modelar

<div align=center>

|Tormenta de ideas|T√©cnicas estructuradas|Observaci√≥n etnogr√°fica|
|-|-|-|
|Sesi√≥n colaborativa para generar ideas sin censura inicial|Entrevistas, cuestionarios y an√°lisis documental sistematizados|Estudio directo del comportamiento de usuarios en su entorno natural|

</div>

### Propuesta de pasos

<div align=center>

|Paso|
|-|
|1. Listar las clases conceptuales candidatas.|
|2. Representarlas en el modelo de dominio de partida.|
|3. A√±adir las asociaciones necesarias para registrar las relaciones.|
|4. A√±adir los atributos que satisfagan los requisitos de informaci√≥n.|
|5. Iterar...|

</div>

> ***clase conceptual:*** idea, cosa u objeto

<div align=center>

|Recomendaciones|
|-|
Identificar unas pocas clases.
A√±adirlo a medida que se conoce/estudia m√°s el modelo.
Mejor especificar en exceso que quedarse corto.
Es normal pasar por alto identificaci√≥n de clases.

</div>

### ¬øC√≥mo hallar clases conceptuales?

- CTRL + C & CTRL + V **modulado‚Ä¶** [Ej.1](https://www.amazon.es/Analysis-Patterns-Reusable-Object-Models/dp/0201895420), [Ej.2](https://www.amazon.com/-/es/David-C-Hay/dp/0932633749), [Ej.3](https://www.amazon.es/Data-Model-Resource-Book-Enterprises/dp/0471380237), [Ej.4](https://www.hl7.org/fhir/)
- [Tesauro](https://es.wikipedia.org/wiki/Tesauro) / Categor√≠as
  - Objetos f√≠sicos, lugares, transacciones, elemento de una transacci√≥n, roles, contenedores, otros sistemas.
- A mano...
  - Analizar la descripci√≥n textual de dominio, identificando sustantivos (nombres) y frases nominales, los que ser√°n candidatos a clases, objetos y atributos. 
- ¬øA lomo de LLMs? [Por aqui por favor...](/documentos/LLMs4MdD.md)

### ¬øC√≥mo identificar [asociaciones](ejemplos/mdd/mdd.asociaciones.md)?

- Relaci√≥n entre objetos que indica alguna conexi√≥n con significado e interesante.
- Conexi√≥n f√≠sica o conceptual.
- *#SentidoCom√∫n* Ni tantas que confundan ni tan pocas que se pierda informaci√≥n.
- Agr√©guese (luego, s√≥lo si hace falta) la cardinalidad y el detalle.

### ¬øC√≥mo identificar atributos?

- Valor de datos l√≥gico o propiedades relevantes de los objetos individuales.
- Informaci√≥n que debe recordarse.
- Viene bien pensarlos como tipos primitivos.
- Ante la duda: clases conceptuales en lugar de atributos.

### Autoevaluaci√≥n del modelo del dominio

- Verifiquemos que sea correcto desde un punto de vista de [sint√°ctico](ejemplos/mdd/mddCorreccionSintactica.md) y [sem√°ntico](ejemplos/mdd/mddCorreccionSemantica.md).
- Que soporte todas las acciones a nivel de negocio que est√© previsto realizar sobre dicho modelo de dominio.
- Que facilite la gesti√≥n de las reglas de negocio asociadas al dominio.
- Que facilite ciertas evoluciones razonablemente anticipables.
- Ordenado y con nombres significativos.

<div align=center>

|||
|-|-|
|**Completitud**|¬øCubre todos los casos de uso principales?|
|**Consistencia**|¬øLos t√©rminos se usan uniformemente?|
|**Comprensibilidad**|¬øLo entiende un stakeholder sin formaci√≥n t√©cnica?|
|**Trazabilidad**|¬øSe puede/podr√° rastrear desde requisitos hasta implementaci√≥n?|

</div>

### Antipatrones & errores comunes

<div align=center>

|¬øQu√©?|¬øPor qu√©?|¬øC√≥mo?|
|-|-|-|
|**Confundir MdD con dise√±o de BD**|Tratar el modelo como tabla de base de datos con claves for√°neas|Crear clase "VentaID" en lugar de "Venta" con atributos conceptuales
|**Sobre-modelar desde el inicio / Sobreingenier√≠a / Par√°lisis por an√°lisis**|Intentar capturar cada detalle antes de entender lo b√°sico|Modelar "HistorialCambiosDireccionClienteConValidacion" antes de tener "Cliente"
|**Ignorar el contexto**|No considerar la cultura organizacional ni los procesos existentes|Modelar "EmpleadoGenerico" cuando la organizaci√≥n tiene roles muy espec√≠ficos
|**Falta de validaci√≥n**|No contrastar el modelo con expertos del dominio|Crear modelo de "Hospital" sin consultar a m√©dicos o administradores

</div>

### Artefactos

> <big>[*¬°Diagramas!*](ejemplos/diagramas/diagramas001.md)</big>

<div align=center>

||||
|-|-|-|
Entidades / Est√°tico / "Fotos"|[Diagramas de clases](https://plantuml.com/es/class-diagram)|Clases de objetos y relaciones.
||[Diagrama de objetos](https://plantuml.com/es/object-diagram)|Muestra objetos y sus relaciones en un momento determinado.
Procesos / Din√°mica / "V√≠deos"|[Diagrama de actividades](https://plantuml.com/es/activity-diagram-beta)|A.k.a. "diagrama de flujo"
||[Diagrama de estado](https://plantuml.com/es/state-diagram)|Representaci√≥n visual de los distintos estados en los que puede encontrarse un sistema o un objeto, as√≠ como de las transiciones entre esos estados.
||[Diagrama de secuencia](https://plantuml.com/es/sequence-diagram)|Mensajes entre participantes con √©nfasis temporal.
||[Diagrama de colaboraci√≥n](https://plantuml.com/es/object-diagram)|Mensajes entre participantes con √©nfasis en las relaciones estructurales entre ellos.

</div>

### Evoluci√≥n del modelo

- Versionado del MdD
- Gesti√≥n de cambios
- Refactoring del modelo
- Sincronizaci√≥n con el c√≥digo

### Ejemplo

|Paso|Ejemplo|
|-|:-:|
|0. Escuchar al cliente (o investigar!!!)|[üëÇÔ∏èüëÇÔ∏èüëÇÔ∏è](ejemplos/mdd/mddFiribicundio.md)
|1. Listar las clases conceptuales candidatas.|L√≠nea de venta, art√≠culo, venta, tienda, registro, pago
|2. Representarlas en el modelo de dominio de partida.|![](/imagenes/modelosUML/mdd001.svg)
|3. A√±adir las asociaciones necesarias para registrar las relaciones.|![](/imagenes/modelosUML/mdd002.svg)
|4. A√±adir los atributos que satisfagan los requisitos de informaci√≥n.|![](/imagenes/modelosUML/mdd004.svg)
|5. Iterar...|![](/imagenes/modelosUML/mdd005.svg)

## Ejemplos en contexto

- pySigHor - Proyecto de gesti√≥n de horarios: [Modelo del dominio](https://github.com/mmasias/pySigHor/blob/main/RUP/00-casos-uso/00-modelo-del-dominio/modelo-dominio.md#diagrama)
- [F√∫tbol](https://github.com/puntoReflex/.github/tree/futbol/IdSw1/ModeloDelDominio/retos%26proyectos/futbol/docs/domainModel)
- [GoogleWave](https://github.com/mmasias/googleWave)
- [Un viejo conocido](https://github.com/puntoReflex/.github/tree/viajeMarco/IdSw1/ModeloDelDominio/retos%26proyectos/viajeMarco/docs/domainModel)
- [Otro viejo conocido](https://github.com/puntoReflex/pyCCCF/blob/main/mdd.md)
- MdD Corporativos++ (requieren acceso especial / Para ver y debatir en el aula):
  -  [Asignatura y versiones](https://docs.google.com/document/d/1LQE3Se0IgULkaakRv8Z8CoGFFQP97Cl7TcLX4MvO1Ao/edit?tab=t.0#heading=h.b2b2t5ze0qlv) / [Log√≠stica y env√≠os](https://docs.google.com/document/d/1ZYU1EEzAcdV8m5aV6q9EiOcpUOQ03GyNC-TmyMs-Vp8/edit?tab=t.0#heading=h.cztfk0ed76ro) / [Colecciones](https://docs.google.com/document/d/1K9XZs9F6JjlYfGRClEUhqdPzKlaDX8Q744J6yBH4xEk/edit?tab=t.0#heading=h.6tcvc5otd4j8) / [Titulaciones](https://docs.google.com/document/d/1MAbppUBU6Ar-aX7TkzY6R5uvwOrbTBNxsmGGj5FPkR4/edit?tab=t.0) / [Transformada (propuesta)](https://docs.google.com/document/d/1jcUDh4P-lMpxAYi96NGtihfLDAl341BfPR0RdqN7ei8/edit?tab=t.0)

## Propuesta

- Una propuesta personal de [construcci√≥n](ejemplos/mdd/MdD.propuestaHOWTO.md#c√≥mo) del MdD.
- Dicha propuesta [se ha seguido aqu√≠](https://github.com/mmasias/hdC/blob/main/docs/UMLdocs/mdd.md) para construir el MdD de una hoja de c√°lculo.
- [Reflexiones alrededor del modelado](/documentos/modelado.md)
